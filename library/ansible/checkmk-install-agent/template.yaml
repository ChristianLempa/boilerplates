---
kind: ansible
metadata:
  name: Install Checkmk Agent
  description: |-
    Ansible playbook to install Checkmk monitoring agent on hosts. Uses the checkmk.general.agent role with automatic registration.
    ## References
    - **Project**: https://github.com/Checkmk/ansible-collection-checkmk.general
    - **Documentation**: https://docs.checkmk.com/
  version: 2.4.0
  author: Christian Lempa
  date: "2025-11-11"
  tags: []
  icon:
    provider: selfh
    id: checkmk
  draft: false
  next_steps: ""
schema: "1.2"
spec:
  general:
    vars:
      target_hosts:
        description: Target hosts
        type: str
        required: true
  checkmk:
    title: Checkmk Configuration
    vars:
      checkmk_server:
        type: str
        description: Checkmk Server
        required: true
      checkmk_protocol:
        type: str
        description: Checkmk Server Protocol
        enum:
          - http
          - https
        default: https
        required: true
      checkmk_site:
        type: str
        description: Checkmk Site
        default: cmk
        required: true
      checkmk_auto_activate:
        type: bool
        description: Auto Activate Agent
      checkmk_tls:
        type: bool
        description: Use TLS for Agent Communication
      checkmk_user:
        type: str
        description: Checkmk Automation User
        required: true
      checkmk_pass:
        type: str
        description: Checkmk Automation User Password
        required: true
        sensitive: true
      checkmk_host:
        type: str
        description: Checkmk Host Name
        required: true
