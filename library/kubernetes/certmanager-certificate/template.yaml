---
kind: kubernetes
metadata:
  icon:
    provider: selfh
    id: lets-encrypt
  name: Cert-Manager Certificate
  description: >
    Cert-manager Certificate resource for requesting TLS certificates from an Issuer or ClusterIssuer.


    The certificate will be stored in a Kubernetes secret.


    Requires cert-manager to be installed in the cluster.


    Project: https://cert-manager.io

    Documentation: https://cert-manager.io/docs/usage/certificate/
  version: 1.16.2
  author: Christian Lempa
  date: '2025-01-11'
schema: "1.2"
spec:
  general:
    vars:
      resource_name:
        default: tls-certificate
      namespace:
        default: default
      secret_name:
        type: str
        description: Name of secret to store the certificate
        default: tls-secret
  resources:
    title: Resource Limits
    toggle: resources_enabled
    vars:
      resources_enabled:
        type: bool
        description: Enable resource limits and requests
        default: false
      resources_cpu_limit:
        type: str
        description: CPU limit
        default: 100m
      resources_cpu_request:
        type: str
        description: CPU request
        default: 50m
      resources_memory_limit:
        type: str
        description: Memory limit
        default: 128Mi
      resources_memory_request:
        type: str
        description: Memory request
        default: 64Mi
  traefik:
    title: Traefik Integration
    toggle: traefik_enabled
    vars:
      traefik_enabled:
        type: bool
        description: Enable Traefik integration
        default: false
      traefik_host:
        type: hostname
        description: Traefik host
      traefik_domain:
        type: str
        description: Traefik domain
      traefik_tls_enabled:
        type: bool
        description: Enable TLS
        default: true
      traefik_tls_certresolver:
        type: str
        description: TLS certificate resolver
        default: letsencrypt-prod
  dns:
    title: DNS Settings
    vars:
      dns_names:
        type: str
        description: DNS names for certificate (comma-separated, e.g., example.com,*.example.com)
  certmanager:
    title: Cert-Manager Settings
    vars:
      certmanager_issuer:
        type: str
        description: Cert-manager Issuer or ClusterIssuer name
        default: letsencrypt-prod
      certmanager_issuer_kind:
        type: enum
        description: Issuer type
        options: [Issuer, ClusterIssuer]
        default: ClusterIssuer
