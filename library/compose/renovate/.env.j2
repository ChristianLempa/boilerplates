# Renovate CE Configuration
# Generated by Boilerplates CLI

# License and Platform Configuration
{% if swarm_enabled %}
MEND_RNV_LICENSE_KEY_FILE=/run/secrets/{{ service_name }}_license_key
{% else %}
MEND_RNV_LICENSE_KEY={{ license_key }}
{% endif %}
MEND_RNV_ACCEPT_TOS=Y
MEND_RNV_PLATFORM={{ renovate_platform }}
MEND_RNV_ENDPOINT={{ renovate_endpoint }}
{% if renovate_autodiscover %}
MEND_RNV_AUTODISCOVER=true
{% endif %}

# Platform-specific Authentication
{% if swarm_enabled %}
{% if renovate_platform == 'gitlab' %}
MEND_RNV_GITLAB_PAT_FILE=/run/secrets/{{ service_name }}_git_token
{% elif renovate_platform == 'github' %}
MEND_RNV_GITHUB_APP_KEY_FILE=/run/secrets/{{ service_name }}_git_token
{% elif renovate_platform == 'gitea' %}
MEND_RNV_GITEA_TOKEN_FILE=/run/secrets/{{ service_name }}_git_token
{% endif %}
{% else %}
{% if renovate_platform == 'gitlab' %}
MEND_RNV_GITLAB_PAT={{ git_token }}
{% elif renovate_platform == 'github' %}
MEND_RNV_GITHUB_APP_KEY={{ git_token }}
{% elif renovate_platform == 'gitea' %}
MEND_RNV_GITEA_TOKEN={{ git_token }}
{% endif %}
{% endif %}

# GitHub.com token for public package lookups (avoids rate limiting)
{% if swarm_enabled %}
GITHUB_COM_TOKEN_FILE=/run/secrets/{{ service_name }}_git_token
{% else %}
GITHUB_COM_TOKEN={{ git_token }}
{% endif %}

# Webhook Secret
{% if webhook_secret %}
{% if swarm_enabled %}
MEND_RNV_WEBHOOK_SECRET_FILE=/run/secrets/{{ service_name }}_webhook_secret
{% else %}
MEND_RNV_WEBHOOK_SECRET={{ webhook_secret }}
{% endif %}
{% endif %}

# Logging
LOG_LEVEL={{ container_loglevel }}
