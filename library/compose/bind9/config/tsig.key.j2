// TSIG Key for Secure Zone Transfers
// Auto-generated base64-encoded secret for secure zone transfers and dynamic DNS updates
// Algorithm: hmac-sha256

key "{{ tsig_key_name | default('transfer-key') }}" {
    algorithm hmac-sha256;
    secret "{{ tsig_key_secret if tsig_key_secret else (none | random_base64(64)) }}";
};

// To manually generate a new key:
// docker exec bind9 tsig-keygen -a hmac-sha256 {{ tsig_key_name | default('transfer-key') }}
//
// Then update the secret value above with the generated secret
