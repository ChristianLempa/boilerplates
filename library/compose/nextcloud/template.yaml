---
kind: compose
metadata:
  name: Nextcloud
  description: >
    Self-hosted file sync and share platform. Nextcloud is a suite of client-server
    software for creating and using file hosting services. It provides functionality
    similar to Dropbox, with the added benefit of being self-hosted and open-source.


    Project: https://nextcloud.com/

    Documentation: https://docs.nextcloud.com/

    GitHub: https://github.com/nextcloud/server
  icon:
    provider: selfh
    id: nextcloud
  version: 32.0.3-apache
  author: Christian Lempa
  date: '2025-12-12'
  tags:
    - traefik
  draft: true
schema: "1.2"
spec:
  database:
    required: true
    vars:
      database_type:
        description: "Database type (Nextcloud supports PostgreSQL or MySQL/MariaDB)"
        type: enum
        options: ["postgres", "mysql"]
        default: "postgres"
  network:
    vars:
      network_macvlan_ipv4_address_db:
        description: "Static IP address for database container (macvlan only)"
        type: str
        default: "192.168.1.252"
        needs: "network_mode=macvlan"
  ports:
    vars:
      ports_http:
        description: "Host port for HTTP"
        type: int
        default: 80
  nextcloud:
    description: "Configure Nextcloud application settings"
    vars:
      admin_user:
        description: "Nextcloud admin username"
        type: str
        default: "admin"
      admin_password:
        description: "Nextcloud admin password"
        type: str
        sensitive: true
        autogenerated: true
        default: ""
