# Authentik Application Configuration
# Contains sensitive application secrets and connection strings

# Timezone
TZ={{ container_timezone | default('UTC') }}

# Secret Key (used for cookie signing and unique user IDs)
AUTHENTIK_SECRET_KEY={{ authentik_secret_key if authentik_secret_key else (none | pwgen(50)) }}

# Error Reporting
AUTHENTIK_ERROR_REPORTING__ENABLED={{ authentik_error_reporting | default(false) }}

# Redis Connection
AUTHENTIK_REDIS__HOST={{ service_name | default('authentik') }}-redis

# PostgreSQL Connection
AUTHENTIK_POSTGRESQL__HOST={{ service_name | default('authentik') }}-postgres
AUTHENTIK_POSTGRESQL__USER={{ database_user | default('authentik') }}
AUTHENTIK_POSTGRESQL__NAME={{ database_name | default('authentik') }}
AUTHENTIK_POSTGRESQL__PASSWORD={{ database_password | default('authentik') }}

{% if email_enabled -%}
# Email Server Configuration
AUTHENTIK_EMAIL__HOST={{ email_host }}
AUTHENTIK_EMAIL__PORT={{ email_port | default(25) }}
AUTHENTIK_EMAIL__USERNAME={{ email_username }}
AUTHENTIK_EMAIL__PASSWORD={{ email_password }}
AUTHENTIK_EMAIL__USE_TLS={{ email_use_tls | default(false) }}
AUTHENTIK_EMAIL__USE_SSL={{ email_use_ssl | default(false) }}
AUTHENTIK_EMAIL__FROM={{ email_from }}
{% endif %}
