---
kind: compose
schema: "1.2"
metadata:
  name: Loki
  description: >
    Loki is a horizontally scalable, highly available, multi-tenant log aggregation system inspired by Prometheus.
    This template sets up Loki in a Docker container using Docker Compose.


    Project: https://grafana.com/oss/loki/

    Documentation: https://grafana.com/docs/loki/latest/

    GitHub: https://github.com/grafana/loki
  version: 3.5.8
  author: Christian Lempa
  date: '2025-11-07'
  tags:
    - traefik
    - swarm
    - authentik
spec:
  general:
    vars:
      service_name:
        default: loki
      container_name:
        default: loki
      container_hostname:
        default: loki
  ports:
    vars:
      ports_http:
        description: "Loki HTTP API port"
        type: int
        default: 3100
        needs: ["traefik_enabled=false", "network_mode=bridge"]
  network:
    vars:
      network_name:
        default: "loki_network"
  traefik:
    vars:
      traefik_host:
        default: "loki.home.arpa"
